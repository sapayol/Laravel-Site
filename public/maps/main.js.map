{"version":3,"sources":["main.js","controllers/_index.js","controllers/authController.js","controllers/checkoutController.js","controllers/globalController.js","controllers/lookController.js","factories/_index.js","factories/globalFactory.js","factories/sessionFactory.js","factories/userFactory.js","services/_index.js","services/authenticationService.js","services/notifcationService.js"],"names":["scaleVideoContainer","height","$","window","unitHeight","parseInt","css","initBannerVideoSize","element","each","this","data","width","scaleBannerVideoSize","videoWidth","videoHeight","windowWidth","windowHeight","console","log","videoAspectRatio","windowAspectRatio","top","margin-left","margin-top","addClass","document","ready","on","angular","module","run","$timeout","slick","dots","mobileFirst","directive","restrict","link","scope","$elm","animate","scrollTop","click","location","pathname","replace","hostname","target","hash","length","slice","offset","plyr","setup","controls","controllers","authController","controller","$scope","$http","$q","Auth","notifyUser","submitAuthRequest","request","logout","user","userInfoForm","$valid","register","login","resetPassword","showUserErorrs","focus","proceedToOrder","createOrderForm","submit","input","email","password","then","reset","of","deleteCurrentUser","checkoutController","$document","init","sapayol","userInfoSubmitted","scrollToElement","address","shippingInfoSubmitted","submitUserInfo","order_id","addUserInfoToOrder","response","submitShippingInfo","shippingInfoForm","addShippingInfoToOrder","showShippingErorrs","deferred","defer","post","_method","name","success","status","resolve","error","ofApiErrors","promise","address1","address2","city","postcode","province","country","Stripe","setPublishableKey","stripeResponseHandler","ofErrorMessage","message","card","stripe_token","id","paymentInfoSubmitted","globalController","$rootScope","Session","flushSession","getSession","getCurrent","session","lookController","selectedColumn","jacket","leather_type","leather_color","lining_color","hardware_color","size","factories","globalFactory","factory","$broadcast","sessionFactory","get","getValueOf","key","store","paramsToStore","params","forEach","value","userFactory","form","schema","type","properties","title","required","minLength","description","setCurrent","userArray","getSchema","getForm","index","currentPage","orderBy","reverse","instructorIndex","create","model","update","patch","search","queryType","query","createDsoAccount","services","authenticationService","auth","remember","notificationService","notify","notifyOfValidationError","val","searchTextRegExp","RegExp","template","messageTemplate","classes","alert","ofWarningMessage","ofSuccessMessage"],"mappings":"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","file":"main.js","sourcesContent":["(function() {\n  'use strict';\n\n/** Document Ready Functions **/\n/********************************************************************/\n\n$( document ).ready(function() {\n\n  // Resive video\n  scaleVideoContainer();\n\n  initBannerVideoSize('.video-container .poster img');\n  initBannerVideoSize('.video-container .filter');\n  initBannerVideoSize('.video-container video');\n\n  $(window).on('resize', function() {\n    scaleVideoContainer();\n    scaleBannerVideoSize('.video-container .poster img');\n    scaleBannerVideoSize('.video-container .filter');\n    scaleBannerVideoSize('.video-container video');\n  });\n\n});\n\n/** Reusable Functions **/\n/********************************************************************/\n\nfunction scaleVideoContainer() {\n  var height = $(window).height();\n  var unitHeight = parseInt(height) + 'px';\n  $('.homepage-hero-module').css('height',unitHeight);\n}\n\nfunction initBannerVideoSize(element){\n  $(element).each(function(){\n    $(this).data('height', $(this).height());\n    $(this).data('width', $(this).width());\n  });\n\n  scaleBannerVideoSize(element);\n}\n\nfunction scaleBannerVideoSize(element){\n  var windowWidth = $(window).width(),\n      windowHeight = $(window).height(),\n      videoWidth,\n      videoHeight;\n\n  console.log(windowHeight);\n\n  $(element).each(function(){\n    var videoAspectRatio = $(this).data('height')/$(this).data('width'),\n    windowAspectRatio = windowHeight/windowWidth;\n    if (videoAspectRatio > windowAspectRatio) {\n      videoWidth = windowWidth;\n      videoHeight = videoWidth * videoAspectRatio;\n      $(this).css({'top' : -(videoHeight - windowHeight) / 2 + 'px', 'margin-left' : 0});\n    } else {\n      videoHeight = windowHeight;\n      videoWidth = videoHeight / videoAspectRatio;\n      $(this).css({'margin-top' : 0, 'margin-left' : -(videoWidth - windowWidth) / 2 + 'px'});\n    }\n    $(this).width(videoWidth).height(videoHeight);\n    $('.homepage-hero-module .video-container video').addClass('fadeIn animated');\n  });\n}\n\n  var sapayolApp = angular.module('sapayolApp', [\n    'controllers',\n    'services',\n    'factories',\n    'duScroll',\n    'cgNotify',\n    'angularPayments',\n    'angular-loading-bar',\n    'ngMask'\n  ])\n  .run(['$timeout', function($timeout) {\n    $timeout(function() {\n\t\t\t$(document).ready(function(){\n\t\t\t  $('.home-carousel').slick({\n\t\t\t  \tdots: true,\n\t\t\t  \tmobileFirst: true,\n\t\t\t  });\n\t\t\t});\n      // $(document).foundation();\n    }, 500);\n  }])\n  .directive('scrollToTop', function() {\n    return {\n      restrict: 'A',\n      link: function(scope, $elm) {\n        $elm.on('click', function() {\n          $(\"body\").animate({scrollTop: 0}, \"slow\");\n        });\n      }\n    }\n  });\n\n  // Smooth scrolling on anchor tags\n  $(function() {\n    $('a[href*=#]:not([href=#])').click(function() {\n      if (location.pathname.replace(/^\\//,'') == this.pathname.replace(/^\\//,'') && location.hostname == this.hostname) {\n        var target = $(this.hash);\n        target = target.length ? target : $('[name=' + this.hash.slice(1) +']');\n        if (target.length) {\n          $('html,body').animate({\n            scrollTop: target.offset().top\n          }, 1000);\n          return false;\n        }\n      }\n    });\n  });\n\n  plyr.setup({\n    controls: [\"play\", \"fullscreen\"]\n  });\n\n})();\n\n","var controllers = angular.module('controllers', [\n\t'authController',\n\t'checkoutController',\n\t'globalController',\n\t'lookController',\n]);\n","var authController = angular.module('authController', []);\n\nauthController.controller('authCtrl', ['$scope', '$http', '$q', '$timeout', 'Auth', 'notifyUser', function($scope, $http, $q, $timeout, Auth, notifyUser) {\n\n\t  $scope.submitAuthRequest = function(request) {\n\t  \tif (request === 'logout') return logout($scope.user);\n\t  \tif ($scope.userInfoForm.$valid) {\n\t\t  \tif (request === 'register') register($scope.user);\n\t\t  \tif (request === 'login')    login($scope.user);\n\t\t  \tif (request === 'reset')    resetPassword($scope.user);\n\t\t  } else {\n\t  \t\t$scope.showUserErorrs = true;\n\t  \t\tfocus('emailField');\n\t\t  }\n\t  }\n\n\t  $scope.proceedToOrder = function() {\n\t \t\t$timeout(function() {\n\t\t \t\tcreateOrderForm.submit();\n\t \t\t}, 100);\n\t  }\n\n\t  register = function(input) {\n \t\t\t Auth.register(input.email, input.password)\n \t\t\t \t.then(function(user) {\n \t\t\t \t\t$scope.user = user;\n\t\t\t\t\t$scope.proceedToOrder();\n    \t\t});\n\t  };\n\n\t  login = function(input) {\n    \tAuth.login(input.email, input.password)\n    \t\t.then(function(user) {\n \t\t\t \t\t$scope.user = user;\n\t\t\t\t\t$scope.proceedToOrder();\n    \t\t});\n    }\n\n\t  resetPassword = function(input) {\n  \t\tAuth.reset(input.email)\n    \t\t.then(function(data) {\n    \t\t\tnotifyUser.of(data);\n    \t\t\t$scope.reset = false;\n    \t\t});\n\t  }\n\n    logout = function () {\n  \t\tAuth.logout()\n    \t\t.then(function(data) {\n\t\t\t\t\tdeleteCurrentUser();\n    \t\t\tnotifyUser.of('You were logged out');\n    \t\t});\n    };\n\n}]);\n\n\n","var checkoutController = angular.module('checkoutController', []);\n\ncheckoutController.controller('checkoutCtrl', ['$scope', '$http', '$q', '$document', 'notifyUser',  function($scope, $http, $q, $document, notifyUser) {\n\n\tinit = function() {\n\t\tif (sapayol.user !== null) {\n\t\t\t$scope.user = sapayol.user;\n\t\t\t$scope.userInfoSubmitted = true;\n\t\t\t$document.scrollToElement(angular.element('#shipping-info'), 80, 500);\n\t\t};\n\t\tif (sapayol.address !== null) {\n\t\t\t$scope.address = sapayol.address;\n\t\t\t$scope.shippingInfoSubmitted = true;\n\t\t\t$document.scrollToElement(angular.element('#payment-info'), 80, 500);\n\t\t};\n\t}\n\n\t$scope.submitUserInfo = function(order_id) {\n\t  if ($scope.userInfoForm.$valid) {\n\t  \taddUserInfoToOrder($scope.user, order_id).then(function(response){\n\t\t\t\t$scope.userInfoSubmitted = true;\n\t\t\t\t$document.scrollToElement(angular.element('#shipping-info'), 80, 500);\n\t  \t});\n\t  } else {\n\t  \t$scope.showUserErorrs = true;\n\t  }\n\t};\n\n\t$scope.submitShippingInfo = function(order_id) {\n\t  if ($scope.shippingInfoForm.$valid) {\n\t  \taddShippingInfoToOrder($scope.address, order_id).then(function(response){\n\t  \t\tconsole.log(response);\n\t\t\t\t$scope.shippingInfoSubmitted = true;\n\t\t\t\t$document.scrollToElement(angular.element('#payment-info'), 80, 500);\n\t  \t});\n\t  } else {\n\t  \t$scope.showShippingErorrs = true;\n\t  }\n\t};\n\n\taddUserInfoToOrder = function(user, order_id) {\n\t\tvar deferred = $q.defer();\n\t\t$http.post('/orders/' + order_id, {\n\t\t\t_method: \"PATCH\",\n\t\t\tname: user.name,\n\t\t\temail: user.email,\n\t\t}).success(function(response, status) {\n\t\t\tdeferred.resolve(response);\n\t\t}).error(function(response, status) {\n\t\t\tnotifyUser.ofApiErrors(response, status);\n\t\t});\n\t\treturn deferred.promise;\n\t}\n\n\taddShippingInfoToOrder = function(address, order_id) {\n\t\tvar deferred = $q.defer();\n\t\t$http.post('/orders/' + order_id, {\n\t\t\t_method: 'PATCH',\n\t\t\taddress1: address.address1,\n\t\t\taddress2: address.address2,\n\t\t\tcity:     address.city,\n\t\t\tpostcode: address.postcode,\n\t\t\tprovince: address.province,\n\t\t\tcountry:  address.country,\n\t\t}).success(function(response, status) {\n\t\t\tdeferred.resolve(response);\n\t\t}).error(function(response, status) {\n\t\t\tnotifyUser.ofApiErrors(response, status);\n\t\t});\n\t\treturn deferred.promise;\n\t}\n\n\tStripe.setPublishableKey('pk_test_G2k7gKlVNK1rpGMDeF5FDIhO');\n\n\t$scope.stripeResponseHandler = function(status, response) {\n\t\tif(response.error) {\n\t  \tif (status == 400) {\n\t\t  \tnotifyUser.ofErrorMessage(response.error);\n\t  \t} else {\n\t\t  \tnotifyUser.ofErrorMessage(response.error.message);\n\t  \t};\n\t  } else {\n\t\t\t$scope.card = response.card;\n\t\t\t$scope.stripe_token = response.id;\n\t\t\t$scope.paymentInfoSubmitted = true;\n\t\t\tconsole.log(response);\n\t\t}\n\t};\n\n\tinit();\n\n}]);\n","var globalController = angular.module('globalController', []);\n\nglobalController.controller('GlobalCtrl', ['$rootScope', '$document', 'Session', '$scope', 'notifyUser', function($rootScope, $document, Session, $scope, notifyUser) {\n\t\t$rootScope.flushSession = function() {\n\t\t\tSession.delete('flush').then(function(){\n\t\t\t\tnotifyUser.of('Session flushed');\n\t\t\t});\n\t\t};\n\n\t\t$rootScope.getSession = function() {\n\t\t\tSession.getCurrent().then(function(session){\n\t\t\t\tconsole.log(session);\n\t\t\t});\n\t\t};\n}]);\n\n","var lookController = angular.module('lookController', []);\n\nlookController.controller('lookAndFitCtrl', ['$scope', '$http', '$q', function($scope, $http, $q) {\n\t$scope.selectedColumn = 0;\n\t$scope.jacket = {\n\t\tleather_type: 'lamb heavy',\n    leather_color:  'black',\n    lining_color:  'black',\n    hardware_color: 'silver',\n    size: 44\n\t};\n}]);\n","var factories = angular.module('factories', [\n\t'globalFactory',\n\t'sessionFactory',\n\t'userFactory'\n]);\n","var globalFactory = angular.module('globalFactory', []);\n\nglobalFactory.factory('focus', ['$rootScope', '$timeout', function($rootScope, $timeout) {\n  return function(name) {\n    $timeout(function (){\n      $rootScope.$broadcast('focusOn', name);\n    });\n  }\n}]);\n","var sessionFactory = angular.module('sessionFactory', []);\n\nsessionFactory.factory('Session', ['$http', '$q', function($http, $q) {\n\n\tsession = {};\n\n\tsession.getCurrent = function() {\n\t\tvar deferred = $q.defer();\n\t\t$http.get('/session')\n\t\t\t.success(function(response, status) {\n\t\t\t\tdeferred.resolve(response);\n\t\t  }).error(function(response, status) {\n \t\t\t\treturn response;\n\t\t  });\n\t\treturn deferred.promise;\n\t}\n\n\tsession.getValueOf = function(key) {\n\t\tvar deferred = $q.defer();\n\t\t$http.get('/session/' + key)\n\t\t\t.success(function(response, status) {\n\t\t\t\tdeferred.resolve(response);\n\t\t  }).error(function(response, status) {\n \t\t\t\treturn response;\n\t\t  });\n\t\treturn deferred.promise;\n\t}\n\n\tsession.store = function(paramsToStore) {\n\t\tvar params = {};\n\t\tangular.forEach(paramsToStore, function(value, key) {\n\t\t\tparams[key] = value;\n\t\t});\n\t\tvar deferred = $q.defer();\n\t\t$http.post(\"/session\", params).success(function(response, status) {\n\t\t\tdeferred.resolve(response);\n\t\t}).error(function(response, status) {\n\t\t\treturn response;\n\t\t});\n\t\treturn deferred.promise;\n  };\n\n\tsession.delete = function(key) {\n\t\tvar deferred = $q.defer();\n\t\t$http.delete(\"/session/\" + key, {\n\t\t}).success(function(response, status) {\n\t\t\tdeferred.resolve(response);\n\t\t}).error(function(response, status) {\n\t\t\treturn response;\n\t\t});\n\t\treturn deferred.promise;\n  };\n\n\treturn session;\n\n}]);\n","var userFactory = angular.module('userFactory', []);\n\nuserFactory.factory('User', ['$http', '$q', 'notifyUser', function($http, $q, notifyUser) {\n\n\n\tvar user   = {};\n\tvar form   = [\"*\"];\n\tvar schema = {\n\t\ttype: \"object\",\n\t\tproperties: {\n\t\t\ttitle: {\n\t\t\t\ttype: \"string\",\n\t\t\t\trequired: true,\n\t\t\t\tminLength: 3,\n\t\t\t\ttitle: \"Title\",\n\t\t\t\tdescription: \"User title\"\n\t\t\t}\n\t\t}\n\t};\n\n\tuser.setCurrent = function(userArray) {\n\t\tuser = userArray;\n\t}\n\n\tuser.getCurrent = function() {\n\t\treturn user;\n\t}\n\n\tuser.getSchema = function() {\n\t\treturn schema;\n\t}\n\n\tuser.getForm = function() {\n\t\treturn form;\n\t}\n\n\t//===========================================================================//\n\t//\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  CRUD \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t //\n\t//===========================================================================//\n\n\tuser.index = function(currentPage, orderBy, reverse) {\n\t\tvar deferred = $q.defer();\n\t\t$http.get('/users?page=' + currentPage + orderBy + reverse)\n\t\t\t.success(function(response, status) {\n\t\t\t\tdeferred.resolve(response);\n\t\t  }).error(function(response, status) {\n \t\t\t\tnotifyUser.ofApiErrors(response, status);\n\t\t  });\n\t\treturn deferred.promise;\n\t}\n\n\tuser.instructorIndex = function() {\n\t\tvar deferred = $q.defer();\n\t\t$http.get('/users?role=instructor')\n\t\t\t.success(function(response, status) {\n\t\t\t\tdeferred.resolve(response);\n\t\t  }).error(function(response, status) {\n \t\t\t\tnotifyUser.ofApiErrors(response, status);\n\t\t  });\n\t\treturn deferred.promise;\n\t}\n\n\tuser.create = function(model) {\n\t\tvar deferred = $q.defer();\n\t\t$http.post(\"/users\", {\n\t\t\ttitle: model.title\n\t\t}).success(function(response, status) {\n\t\t\tdeferred.resolve(response);\n\t\t}).error(function(response, status) {\n\t\t\tnotifyUser.ofApiErrors(response, status);\n\t\t});\n\t\treturn deferred.promise;\n  };\n\n\tuser.update = function(model) {\n\t\tvar deferred = $q.defer();\n\t\t$http.patch(\"/users/\" + model.id, {\n\t\t\ttitle: model.title\n\t\t}).success(function(response, status) {\n\t\t\tdeferred.resolve(response);\n\t\t}).error(function(response, status) {\n\t\t\tnotifyUser.ofApiErrors(response, status);\n\t\t});\n\t\treturn deferred.promise;\n  };\n\n\tuser.delete = function(user) {\n\t\tvar deferred = $q.defer();\n\t\t$http.delete(\"/users/\" + user.id, {\n\t\t}).success(function(response, status) {\n\t\t\tdeferred.resolve(response);\n\t\t}).error(function(response, status) {\n\t\t\tnotifyUser.ofApiErrors(response, status);\n\t\t});\n\t\treturn deferred.promise;\n  };\n\n\tuser.search = function(queryType, query) {\n\t\tvar deferred = $q.defer();\n\t\t$http.get('/users?query_type=' + queryType + '&q=' + query)\n\t\t\t.success(function(response, status) {\n\t\t\t\tdeferred.resolve(response);\n\t\t  }).error(function(response, status) {\n \t\t\t\tnotifyUser.ofApiErrors(response, status);\n\t\t  });\n\t\treturn deferred.promise;\n\t}\n\n\tuser.createDsoAccount = function(id) {\n\t\tvar deferred = $q.defer();\n\t\t$http.post(\"/users/\" + id + \"/create_dso_account\").success(function(response, status) {\n\t\t\tdeferred.resolve(response);\n\t\t}).error(function(response, status) {\n\t\t\tnotifyUser.ofApiErrors(response, status);\n\t\t});\n\t\treturn deferred.promise;\n  };\n\n\treturn user;\n\n}]);\n","var services = angular.module('services', [\n\t'authenticationService',\n\t'notificationService',\n]);","var authenticationService = angular.module('authenticationService', []);\n\n\nauthenticationService.factory('Auth', ['$http', '$q', 'notifyUser', function($http, $q, notifyUser) {\n\n\tvar auth   = {};\n\n  //===========================================================================//\n\t//\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  AUTH \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t //\n\t//===========================================================================//\n\n  auth.register = function(email, password) {\n\t\tvar deferred = $q.defer();\n\t\t$http.post(\"/auth/register\", {\n\t\t\temail:    email,\n\t\t\tpassword: password,\n\t\t}).success(function(response, status) {\n\t\t\tdeferred.resolve(response);\n\t\t}).error(function(response, status) {\n    \tnotifyUser.ofApiErrors(response, status);\n\t\t});\n\t\treturn deferred.promise;\n  };\n\n\tauth.login = function(email, password, remember) {\n\t\tvar deferred = $q.defer();\n\t\t$http.post(\"/auth/login\", {\n\t\t\temail:    email,\n\t\t\tpassword: password,\n\t\t\tremember: remember\n\t\t}).success(function(response, status) {\n\t\t\tdeferred.resolve(response);\n\t\t}).error(function(response, status) {\n    \tnotifyUser.ofApiErrors(response, status);\n\t\t});\n\t\treturn deferred.promise;\n  };\n\n  auth.reset = function(email) {\n\t\tvar deferred = $q.defer();\n\t\t$http.post(\"/password/email\", {\n\t\t\temail: email,\n\t\t}).success(function(response, status) {\n\t\t\tdeferred.resolve(response);\n\t\t}).error(function(response, status) {\n    \tnotifyUser.ofApiErrors(response, status);\n\t\t});\n\t\treturn deferred.promise;\n  };\n\n\tauth.logout = function() {\n\t\tvar deferred = $q.defer();\n\t\t$http.get(\"/auth/logout\")\n\t\t.success(function(response, status) {\n\t\t\tdeferred.resolve(response);\n\t\t}).error(function(response, status) {\n    \tnotifyUser.ofApiErrors(response, status);\n\t\t});\n\t\treturn deferred.promise;\n  };\n\n\n\treturn auth;\n\n}]);\n","var notificationService = angular.module('notificationService', []);\n\nnotificationService.factory('notifyUser', ['notify', function(notify) {\n\n\tnotifyOfValidationError = function(data) {\n\t\tangular.forEach(data, function(error, val) {\n\t\t\tvar searchTextRegExp = new RegExp(val , \"i\");\n\t\t\terror            = error[0].replace(searchTextRegExp , '<strong>$&</strong>'),\n\t\t\ttemplate         = \"<span>\",\n\t\t\ttemplate         += error + '<br>',\n\t\t\ttemplate         += \"</span>\";\n\t  \treturn notify({ messageTemplate: template, classes: 'alert' });\n\t  });\n\t}\n\n\treturn {\n\t\tofApiErrors: function(response, status) {\n\t\t\tif (typeof(response) == 'string') {\n\t\t\t\treturn notify({ message: response, classes: alert });\n\t\t\t};\n\t\t\tif (status === 422) {\n\t\t\t\treturn notifyOfValidationError(response);\n\t\t\t} else if (status === 500) {\n\t\t\t\treturn notify({ message: response.error, classes: 'alert' });\n\t\t\t} else {\n\t\t\t\treturn notify({ message: response.message, classes: 'alert' });\n\t\t\t}\n\t\t},\n\t\tofErrorMessage: function(error) {\n\t\t\treturn notify({ message: error, classes: 'alert' });\n\t\t},\n\t  ofWarningMessage: function(data) {\n\t\t\treturn notify({ message: data, classes: 'warning' });\n\t  },\n\t\tofSuccessMessage: function(data) {\n\t\t\treturn notify({ message: data, classes: 'success' });\n\t  },\n\t\tof: function(data) {\n\t  \treturn notify(data);\n\t\t}\n\t}\n\n}]);\n"],"sourceRoot":"/source/"}